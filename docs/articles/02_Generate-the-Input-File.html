<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generate the Input File • DSbulkUploadR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generate the Input File">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DSbulkUploadR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01_Overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/02_Generate-the-Input-File.html">Generate the Input File</a>
    </li>
    <li>
      <a href="../articles/03_Populating-the-Input-File.html">Populating the Input File</a>
    </li>
    <li>
      <a href="../articles/04_Perform-Bulk-Reference-Uploads.html">Perform-Bulk-Reference-Uploads</a>
    </li>
    <li>
      <a href="../articles/05_Data-Validation-Checks-Performed.html">Data Validation Checks Performed</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nationalparkservice/DSbulkUploadR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Generate the Input File</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nationalparkservice/DSbulkUploadR/blob/HEAD/vignettes/articles/02_Generate-the-Input-File.Rmd" class="external-link"><code>vignettes/articles/02_Generate-the-Input-File.Rmd</code></a></small>
      <div class="hidden name"><code>02_Generate-the-Input-File.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Carefully constructing and inspecting the input file is very
important. The <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function will
run a series of data validation steps to make sure your input file is
properly formatted. Any errors generated during input data validation
will need to be fixed before any references are created or files are
uploaded. These validation steps are meant to help minimize inadvertent
misuse of the functions but they cannot take the place of careful human
inspection. Please make sure your input file is properly specified.</p>
<p>We strongly recommend testing (a subset of?) your input file on the
development server by setting the parameter <code>dev = TRUE</code> when
using the <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="create-an-input-template">Create an input template<a class="anchor" aria-label="anchor" href="#create-an-input-template"></a>
</h2>
<p>Each DataStore reference type has a potentially unique backend
storage system and potentially unique set of possible fields. Therefore
you will need to use a separate sheet within the input.xlsx template
file for each reference type you plan to upload to DataStore. Do not
change the names of the sheets.</p>
<p>To create the relevant template input file, use the function
<code><a href="../reference/write_input_template.html">write_input_template()</a></code>.</p>
<ol style="list-style-type: decimal">
<li>AudioRecording</li>
<li>GenericDocument</li>
<li>WebSite</li>
</ol>
<p>For example, the following line of code</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/write_input_template.html">write_input_template</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>will write the file “DSbulkUploadR_input.xlsx” to your current
working directory (you can customize where the file is written to by
specifying the write_path).</p>
<p>For a full list of all available reference types on DataStore, see
the swagger documentation for the <a href="https://irmaservices.nps.gov/datastore-secure/v7/documentation/datastore-secure-api.html#/Lookup%20Lists/FixedList_GetReferenceTypes" class="external-link">DataStore
ReferenceTypes API</a> and example code.</p>
</div>
<div class="section level2">
<h2 id="implications-of-unique-reference-attributes">Implications of unique reference attributes<a class="anchor" aria-label="anchor" href="#implications-of-unique-reference-attributes"></a>
</h2>
<p>Because each reference type on DataStore is unique with its own
unique backend storage structure and API requirements, you will need to
use a separate sheet within the DSbulkUploadR_input.xlsx file for each
reference type you plan on creating. Supported reference types will have
a sheet in the template file. You can leave entire sheets blank if you
do not need that specific reference type.</p>
<p>For instance, if you want to create 3,600 Audio Recordings
references, you can do it all using the single AudioRecording sheet in
the DSbulkUploadR_input.xlsx file. However, if you want to make 3,549
Audio Recording references and 51 Generic Document references, you will
need to put the Audio Recording data in the AudioRecording sheet and the
Generic Document data in the GenericDocument sheet of the
DSbulkUploadR_input.xlsx file. You will also need to run the
<code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function twice: once supplying
the AudioRecording sheet and once supplying the GenericDocument sheet
for the DSbulkdUploadR_input.xlsx file.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Robert Baker.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
