<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Activate-References • DSbulkUploadR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Activate-References">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DSbulkUploadR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01_Overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/02_Generate-the-Input-File.html">Generate the Input File</a>
    </li>
    <li>
      <a href="../articles/03_Populating-the-Input-File.html">Populating the Input File</a>
    </li>
    <li>
      <a href="../articles/04_Perform-Bulk-Reference-Uploads.html">Perform-Bulk-Reference-Uploads</a>
    </li>
    <li>
      <a href="../articles/05_Activate-References.html">Activate-References</a>
    </li>
    <li>
      <a href="../articles/06_Data-Validation-Checks-Performed.html">Data-Validation-Checks-Performed</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nationalparkservice/DSbulkUploadR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Activate-References</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nationalparkservice/DSbulkUploadR/blob/HEAD/vignettes/articles/05_Activate-References.Rmd" class="external-link"><code>vignettes/articles/05_Activate-References.Rmd</code></a></small>
      <div class="hidden name"><code>05_Activate-References.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Once you have generated references, they will be in a “Draft” status
by default. Draft status means that they are not published and cannot be
viewed by anyone in the public. Further, anyone not listed as an Editor
(formerly “owner”) of the reference will be unable to make edits or
download files. To complete the task of publishing your references, you
must activate the references.</p>
</div>
<div class="section level2">
<h2 id="review-prior-to-activation">Review Prior to Activation<a class="anchor" aria-label="anchor" href="#review-prior-to-activation"></a>
</h2>
<p>Most science products at NPS require some level of review before they
can be published (Activated). There are three types of review, peer
review, technical review, and administrative review. Many products may
be exempt from peer review, but few are exempt from technical review or
administrative review. To learn more about the review requirements for
your references, consult the <a href="https://doimspp.sharepoint.com/sites/nps-nrss-imdiv/SitePages/Best-Practices-for-Peer-Review.aspx" class="external-link">IMD
Best Practices for Peer Review</a> SharePoint page.</p>
<p>Anyone conducting review of a DataStore reference will need to be
listed as an Editor (formerly “owner”) of the reference to be able to
access all of the files. Reviewers can temporarily be added as editors
for the purpose of review and then removed prior to activation
(“publication”) if desired.</p>
<div class="section level3">
<h3 id="adding-editors">Adding Editors<a class="anchor" aria-label="anchor" href="#adding-editors"></a>
</h3>
<p>If you need to add additional editors to a reference for the purpose
of review, you can do so using the <code>add_editors</code>
function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/add_editors.html">add_editors</a></span><span class="op">(</span>reference_id <span class="op">=</span> <span class="fl">1234567</span>,</span>
<span>            editor_list <span class="op">=</span> <span class="st">"john_doe@nps.gov"</span>,</span>
<span>            dev <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="removing-editors">Removing Editors<a class="anchor" aria-label="anchor" href="#removing-editors"></a>
</h3>
<p>You may want to remove some editors from a reference. Perhaps they
were reviewers and the review is complete. Or perhaps they ran the
<code>generate_bulk_references</code> function and were automatically
added as editors but do not wish to remain editors. You can remove
editors from a reference using the <code>remove_editors</code>
function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">remove_editors</span>(<span class="at">reference_id =</span> <span class="dv">1234567</span>,</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>               <span class="at">editor_list =</span> <span class="st">"john_doe@nps.gov"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>               <span class="at">dev =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="activating-references">Activating References<a class="anchor" aria-label="anchor" href="#activating-references"></a>
</h2>
<p>After all the references have been appropriately reviewed, you can
manually activate references by individually navigating to each
reference on DataStore and clicking “Activate” (if you are an editor).
However, this may be impractical for large batches of references
generated via DSbulkUploadR.</p>
<p>The DSbulkUploader function <code>activate_references</code> allows
you to activate many references at once. You can use the reference ID
column from the dataframe returned by <code>generate_references</code>
as an input for the <code>activate_references</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">active_refs</span> <span class="op">&lt;-</span> <span class="fu">DSbulkUploadR</span><span class="fu">::</span><span class="fu"><a href="../reference/activate_references.html">activate_references</a></span><span class="op">(</span><span class="va">new_refs</span><span class="op">$</span><span class="va">reference_id</span>,</span>
<span>                                                  dev <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>The <code>activate_references</code> function will return a dataframe
that gives you the reference ID, the initial status of that reference
(“Draft”), the current status after attempting to activate it (hopefully
“Active”) and an indication of whether any problems were
encountered.</p>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<p>You may receive warnings while running
<code>activate_references</code> and/or you may notice that not all of
the references are in the “Active” lifecycle upon inspecting the
dataframe returned by <code>activate_references</code>. Common problems
include:</p>
<ol style="list-style-type: decimal">
<li>You must be on the VPN (or otherwise connected to the NPS
network)</li>
<li>You must be an editor of each reference</li>
<li>DataStore is persnickety</li>
<li>Each reference must have all the required fields prior to
activation</li>
</ol>
<p>First, insure that you are on the VPN (or connected to the NPS
network in an NPS office). Then make sure you are listed as an editor
(formerly “owner”) of each reference that failed to activate.</p>
<p>Often, problems with activating references are due to DataStore
failures and re-running the <code>activate_references</code> function
can result in success. You can re-run it exactly as is without needing
to filter for only references that are still in the “Draft” status.
Attempting to re-activate an already active reference won’t cause any
harm, however it does take some time to make the appropriate API calls.
If you have lots of references you may wish to filter the dataframe
returned from <code>activate_references</code> (in the example above,
the object “active_refs”) for only references that are still in “Draft”
status and use that filtered dataframe as the input for another call to
the <code>activate_references</code> function.</p>
<p>If all else fails, it is time to navigate to the DataStore website
and attempt to manually resolve the issue. If you can’t tell at first
glance what went wrong, you can click the Activate button and the
DataStore website will give a general indication of where the failure
occurred (e.g. “Not all required fields on the Core tab are complete”).
Manually fill in the required information, then activate the
reference.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Robert Baker.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
